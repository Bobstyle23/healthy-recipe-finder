new class{constructor(){this.recipesData=JSON.parse(sessionStorage.getItem("recipes"))||[],this.searchParam=new URLSearchParams(window.location.search),this.recipeSlug=this.searchParam.get("id"),this.recipe=this.recipesData.find(e=>e.slug===this.recipeSlug),this.breadcrumbTitle=document.querySelector(".recipe-detail__name"),this.recipeImgContainer=document.querySelector(".recipe-detail__image"),this.recipeTitle=document.querySelector(".recipe-detail__title"),this.recipeDescription=document.querySelector(".recipe-detail__desc"),this.recipePrepDetailsContainer=document.querySelector(".recipe-detail__prep-details"),this.recipeIngredientsContainer=document.querySelector(".recipe-detail__ingredients-list"),this.recipeInstructionsContainer=document.querySelector(".recipe-detail__instructions-list"),this.suggestedRecipesContainer=document.querySelector(".recipe-detail__suggestions-box"),this.renderRecipeDetail()}renderRecipeDetail(){for(this.breadcrumbTitle.textContent=this.recipe.title,this.images=`\n     <source srcset=${this.recipe.image.large} media="(min-width: 48em)" type="image/webp" />\n     <img src=${this.recipe.image.small} />\n   `,this.recipeImgContainer.innerHTML=this.images,this.recipeTitle.textContent=this.recipe.title,this.recipeDescription.textContent=this.recipe.overview,this.prepDetails=`\n     <div>\n       <img src="./img/svgicons/icon-servings.svg" class="recipe-detail__prep-icon" />\n       <span>Servings: ${this.recipe.servings}</span>\n     </div>\n     <div>\n       <img src="./img/svgicons/icon-prep-time.svg" class="recipe-detail__prep-icon" />\n       <span>Prep: ${this.recipe.prepMinutes} ${this.recipe.prepMinutes>1?"mins":"min"}</span>\n     </div>\n     <div>\n       <img src="./img/svgicons/icon-cook-time.svg" class="recipe-detail__prep-icon" />\n       <span>Cook: ${this.recipe.cookMinutes} ${this.recipe.cookMinutes>1?"mins":"min"}</span>\n     </div>\n   `,this.recipePrepDetailsContainer.innerHTML=this.prepDetails,this.ingredients=this.recipe.ingredients.map(e=>`\n       <li>\n        <article>\n          <svg class="recipe-detail__ingredients-icon">\n           <use href="./img/svgsprite/sprite.symbol.svg#icon-bullet-point" />\n          </svg>\n         <p>${e}</p>\n        </article>\n      </li>\n          `),this.recipeIngredientsContainer.innerHTML=this.ingredients.join(""),this.instructions=this.recipe.instructions.map(e=>`\n       <li>\n        <article>\n          <svg class="recipe-detail__instructions-icon">\n           <use href="./img/svgsprite/sprite.symbol.svg#icon-bullet-point" />\n          </svg>\n         <p>${e}</p>\n        </article>\n      </li>\n`),this.recipeInstructionsContainer.innerHTML=this.instructions.join(""),this.filteredRecipes=this.recipesData.filter(e=>e.id!==this.recipe.id),this.randomlyPickedRecipes=new Set;this.randomlyPickedRecipes.size<3&&this.randomlyPickedRecipes.size<this.filteredRecipes.length;)this.randomIdx=Math.floor(Math.random()*this.filteredRecipes.length),this.randomlyPickedRecipes.add(this.filteredRecipes[this.randomIdx]);this.suggestedRecipes=[...this.randomlyPickedRecipes],this.moreRecipesToCheck=this.suggestedRecipes.map(e=>`<article class="recipe">\n      <picture class="recipe__image">\n          <source\n            srcset=${e.image.large}\n            type="image/webp"\n            media="(min-width: 48em)"\n          />\n          <img\n            loading="lazy"\n            src=${e.image.small}\n            alt="A Smiling family showing off by holding fresh tomatoes, greens, paprika, and lemon in their modern kitchen"\n          />\n      </picture>\n      <div class="recipe__info">\n          <h3 class="recipe__title">${e.title}</h3>\n          <p class="recipe__desc">${e.overview}</p>\n      </div>\n      <div class="recipe__preparation">\n        <div>\n         <img src="./img/svgicons/icon-servings.svg" />\n         <p>Servings: ${e.servings}</p>\n       </div>\n\n       <div>\n         <img src="./img/svgicons/icon-prep-time.svg" />\n         <p>Prep: ${e.prepMinutes}  ${e.prepMinutes>1?"mins":"min"}</p>\n       </div>\n      <div>\n         <img src="./img/svgicons/icon-cook-time.svg" />\n         <p>Cook: ${e.cookMinutes} ${e.cookMinutes>1?"mins":"min"} </p>\n       </div>\n       </div>\n      <a href="./recipe-detail.html?id=${e.slug}" class="recipe__link button">View Recipe</a>\n    </article>\n  `),this.suggestedRecipesContainer.innerHTML=this.moreRecipesToCheck.join("")}};