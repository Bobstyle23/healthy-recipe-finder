(()=>{const e=JSON.parse(sessionStorage.getItem("recipes")),n=document.querySelector(".recipes__container"),t=document.querySelectorAll(".recipes__select"),i=document.querySelectorAll(".recipes__select-options div input"),r=document.getElementsByName("prepTime"),c=document.getElementsByName("cookTime"),s=document.querySelectorAll(".recipes__select p"),o=document.querySelector(".recipes__search"),a=document.querySelectorAll(".recipes__select-btn");[...t].forEach(e=>{e.addEventListener("click",()=>{const n=e.getAttribute("aria-expanded");e.focus(),"false"===n?e.setAttribute("aria-expanded","true"):e.setAttribute("aria-expanded","false")})});const l={prepTime:null,cookTime:null,searchValue:""};function m(n){const t=n.target.name;l[t]="searchValue"!==t?Number(n.target.value):n.target.value,s.forEach(e=>{e.dataset.name===t&&(e.textContent=`${n.target.value} ${Number(n.target.value)<1?"minute":"minutes"}`)});const i=e.filter(e=>{let n=!0;if(l.prepTime&&(n=n&&e.prepMinutes===l.prepTime),l.cookTime&&(n=n&&e.cookMinutes===l.cookTime),l.searchValue){const t=l.searchValue.toLowerCase(),i=e.title.toLowerCase().includes(t),r=e.ingredients.join("").toLowerCase().includes(t);n=n&&(i||r)}return n});var r;r=i,document.startViewTransition()?document.startViewTransition(()=>u(r)):u(r)}const p=function(e,n=1e3){let t;return(...i)=>{clearTimeout(t),t=setTimeout(()=>{e(...i)},n)}}(e=>{m(e)},500);function u(t=e){const i=t.map((e,n)=>`\n    <article class="recipe">\n      <picture class="recipe__image" >\n          <source\n            srcset=${e.image.large}\n            type="image/webp"\n            media="(min-width: 48em)"\n          />\n          <img\n            loading="lazy"\n            src=${e.image.small}\n            alt="A Smiling family showing off by holding fresh tomatoes, greens, paprika, and lemon in their modern kitchen"\n          />\n      </picture>\n      <div class="recipe__info">\n          <h3 class="recipe__title">${e.title}</h3>\n          <p class="recipe__desc">${e.overview}</p>\n      </div>\n      <div class="recipe__preparation">\n        <div>\n         <img src="./img/svgicons/icon-servings.svg" />\n         <p>Servings: ${e.servings}</p>\n       </div>\n\n       <div>\n         <img src="./img/svgicons/icon-prep-time.svg" />\n         <p>Prep: ${e.prepMinutes}  ${e.prepMinutes>1?"mins":"min"}</p>\n       </div>\n      <div>\n         <img src="./img/svgicons/icon-cook-time.svg" />\n         <p>Cook: ${e.cookMinutes} ${e.cookMinutes>1?"mins":"min"} </p>\n       </div>\n       </div>\n      <a href="./recipe-detail.html?id=${e.slug}" class="recipe__link button">View Recipe</a>\n    </article>\n`);i.length?n.innerHTML=i.join(""):n.innerHTML='<p class="no-result">No recipes found. Try adjusting your filters.</p>'}o.addEventListener("input",e=>{p(e)}),[...r,...c].forEach(e=>{e.addEventListener("click",e=>{m(e)})}),[...a].forEach(e=>{e.addEventListener("click",function(e){!function(e){const n=e.target.name;n&&(l[n]=null,s.forEach(e=>{e.dataset.name===n&&(e.textContent="prepTime"===n?"Max Prep Time":"Max Cook Time")}),i.forEach(e=>{e.checked&&e.name===n&&(e.checked=!1)}))}(e)})}),u()})();